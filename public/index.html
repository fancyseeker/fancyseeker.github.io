
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>FancySeeker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="FancySeeker">
<meta property="og:url" content="http://fancyseeker.github.io/index.html">
<meta property="og:site_name" content="FancySeeker">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FancySeeker">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="FancySeeker" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-img"></div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">FancySeeker</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Welcome, my friends.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <!-- <a id="main-nav-toggle" class="nav-icon"></a> -->
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="fancyseeker.github.io">
        </form>
      </div>
    </div>
	
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post-wordpress2hexo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
          <div class="article-meta">
            
            <a href="/2015/04/08/wordpress2hexo/" class="article-date">
  <time datetime="2015-04-08T14:51:27.000Z" itemprop="datePublished">2015-04-08</time>
</a>
            <p class="article-author">fancyseeker</p>
          </div>
        
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/08/wordpress2hexo/">正式完成从Wordpress迁移至Hexo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
       <!--<p><strong>2015-04-08 22:51:27 正式完成从WordPress迁移至Hexo的工作.</strong><br>之前一直使用WordPress + VPS + 独立域名的方式运行博客. 博客上线是在2012年10月份吧, 刚开始的时候, WordPress的富文本编辑工具, 丰富的插件和主题对于刚开独立博客的用户而言十分便捷也很容易上手, 但是随着时间的推移, 到现在(2015/4)也已经有段时间了, 在这期间, 陆陆续续写了几篇文章, 但是在用WordPress写作的时候越发的感到不舒服, 甚至影响到了写作积极性.<br>现在想想, 原因应该有以下几点:</p>
<ol>
<li><p>过度依赖插件<br>WordPress的插件数量众多, 几乎可以覆盖到用户能想到的全部功能, 这是好事, 但是问题就出在插件给人带来的写作体验上.<br>例如, 当我在WP下写作时, 需要插入代码, 那么需要安装高亮代码的插件, 然后利用工具栏进行代码块的输入, 最终转化为HTML代码. 一篇文章通常会包含多处代码, 有的是代码块, 有的是行内代码, 我就需要不停的点击工具栏, 然后在插件窗口上输出代码. 这样的写作体验一点都不好, 而且更关键的是插入的代码在原文中的格式是由插件定义的, 而我所得到的只是最后渲染完成的HTML而已, 而插件定义的标签或是语法往往不是标准的.<br>再比如当我想要插入图片的时候, WP会将本地的图片上传到不知道什么地方, 然后展示给我一个插入图片的窗口, 让我设置一些属性之后, 图片就插入到文章相应的位置去了.<br>依赖插件的问题在进行文章导入/导出时尤为明显. 当你尝试性的从WP编辑器中复制全文到其它编辑器如(Word, WPS)中时, 不是丢失就是排版乱了. 在WP中, 有插件负责转换, 而当没有插件的参与时, 一切都变得很糟糕.<br>这种格式与结构混淆的渲染方式给了我一种不好的感觉, 那就是我的文章在写完的那一刻就已经不是我的了, 它已经彻彻底底的属于WP和它的插件们了. 我再也别想很容易的把我的文章完完整整的从WP中拿出来. (这也照成了此次我在迁移博客时凡是文章中采用插件处理过的部分我都要手动翻译成markdown格式, 极大的耗费了我的时间和劳动力)</p>
</li>
<li><p>数据库复杂<br>在WP中, 不管文章还是图片都是保存在数据库中的, 而数据是如何组织的, 放在哪里, 都是问题. 而当时间久了, 数据库中的内容多了, 整个WP都变得臃肿起来, 页面打开的速度变慢(当然这其中也有安装太多插件的功劳). 当我担心我的博客数据存在VPS上不放心想备份时, 相对可行的办法只能是安装数据库备份恢复插件, 好吧, 这个插件到底干了什么我也不知道, 反正就是运行了一下, 就把数据库给备份了, 当我想要恢复的时候, 我就点一下, 剩下的事情就是祈祷这插件能顺利执行了.</p>
</li>
<li><p>主题乏味<br>不得不说, 虽然WP的主题众多, 但是质量高的没几款, 而这几款高质量主题用的人数自然多. 那么对于一个自己买域名, 折腾VPS, 搭博客的青年而言, 如此的大众化是无论如何不能接受的. 虽然大部分主题都支持一些定制选项, 但那些定制选项远远不够. 那好吧, 只能自己写主题或是改主题了, 写主题代价也太大了, 而改主题吧, 往往不能达到很好的效果, 因为不了解WP的页面生成框架, 而且WP那么大, 看文档都要看好段时间, 故只能在小地方修修改改, 给人的感觉就是, 最多只能这样了, 但是还是哪里看着不舒服.</p>
</li>
<li><p>高大全与臃肿<br>WP是如此的完善, 有着自己的一套生态, 但是就是这种高大全给人一种臃肿难以掌控的感觉. 众多的插件质量也良莠不齐, 有些插件甚至在升级时会导致文章的排版出问题等.</p>
</li>
</ol>
<p>以上这些问题其实都不是特别严重, 毕竟比起WP所提供的丰富功能和完整生态而言显得有些微不足道. 但是自从我习惯使用Markdown记笔记编辑文档后, WP的问题就越来越突出了. 在渲染方面, Markdown与WP的众多代码, 表格, 分栏插件存在冲突, 虽然WP在新版本中加入了Markdown的支持, 但不一致的写作体验还是促使我离开了WordPress.</p>
<p>Hexo的优势<br>相比于WordPress, Hexo给人一种更轻, 更专注的感觉. 首先, Hexo的一大特点就是没有数据库, 所有的页面都是实现生成的, 这使得Hexo的博客系统反应更加迅速, 同时管理起来也非常的一目了然. Hexo的另一大特性就是其对Markdown的支持, 诚然, Markdown在最终文档的表现力上比不上WP, 但是在写作体验上绝对是顺畅的, 而且在Hexo中, 所有的文章都是以Markdown的文本格式保存, 这样我就可以随时把我的文章渲染成html文档, 然后保存到evernote中, 或是打成PDF等等. 这样内容与样式分离的设计使得维护变得容易, 用户可以很轻松的将博客备份到Github上或是硬盘等其它地方.<br>另外, Hexo整个主体框架很小, 因此, 修改主题变得十分容易.</p>
<p>出于种种原因, 最后使得我将博客从WordPress搬至Hexo, 光是将原先文章手动转成Markdown格式就花了我3个晚上, 不过看着最后干净的博客页面和简洁的样式还是蛮欣慰的. 本文是一篇纯粹的水文, 主要用来记录下博客迁移这一事件, 别无它用, 亦没什么营养.</p>
-->
            
            
                <p><strong>2015-04-08 22:51:27 正式完成从WordPress迁移至Hexo的工作.</strong><br>之前一直使用WordPress + VPS + 独立域名的方式运行博客. 博客上线是在2012年10月份吧, 刚开始的时候, WordPress的富文本编辑工具, 丰富的插件和主题对于刚开独立博客的用户而言十分便捷也很容易上手, 但是随着时间的推移, 到现在(2015/4)也已经有段时间了, 在这期间, 陆陆续续写了几篇文章, 但是在用WordPress写作的时候越发的感到不舒服, 甚至影响到了写作积极性.<br>现在想想, 原因应该有以下几点:</p>
                
                <p class="article-more-link">
                    <a href="/2015/04/08/wordpress2hexo/#more">Read More</a>
                </p>
                
            
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://fancyseeker.github.io/2015/04/08/wordpress2hexo/" data-id="ci8aw1o8u0007kadyx648la72" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://fancyseeker.github.io/2015/04/08/wordpress2hexo/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>



  
    <article id="post-nfs_xen" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
          <div class="article-meta">
            
            <a href="/2014/06/16/nfs_xen/" class="article-date">
  <time datetime="2014-06-16T05:15:52.000Z" itemprop="datePublished">2014-06-16</time>
</a>
            <p class="article-author">fancyseeker</p>
          </div>
        
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/06/16/nfs_xen/">利用NFS在Xen中设立共享文件夹</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
       <!--<h1 id="Background">Background</h1><p>趁着虚拟机在安装guest os的时候抽空写一篇小短文吧。这篇文章主要介绍利用NFS在Xen的host os和guest os中共享文件夹。众所周知的，VMware是很容易在宿主机(Host)的windows和客户机(Guest)中共享文件夹的，点几下按钮的事情。但是同样的事情到了Linux下的Xen上，就变得有点麻烦，因为Xen没有提供Host和Guest之间的共享手段，所以用户就需要利用其它方法来实现虚拟机和宿主机共享文件夹这事。</p>
<p>首先，让我们来介绍一下故事的背景。故事的起因是本人想要阅读下内核代码，觉得单纯的读很枯燥，想顺带改改内核代码试试看效果，但改内核这事也不好直接在物理机上进行，所以自然而然的想到了放到虚拟机中取执行修改的内核。但是代码的修改又需要在Host机上进行(因为嫌麻烦Guest没有配置相对应的工具嘛)，这样就不免要涉及到将Host修改后的代码放入到Guest中编译安装的过程，很自然的，需要实现Host与Guest之间的文件共享机制。</p>
<p><strong>实验环境：</strong><br>本人的物理机上安装的是Linux Mint 16，然后在Mint上安装了Xen虚拟化平台。利用虚拟化软件Xen，安装了一个ubuntu的虚拟机。</p>
<p><strong>本文结构：</strong><br>如果不算开头背景啰嗦的话，本文大致分为2个部分，</p>
<ol>
<li>介绍NFS(Network File System)的介绍及简易配置 </li>
<li>利用NFS实现虚拟化平台中Host与Guest，或是Guest与Guest之间的文件共享。</li>
</ol>
<hr>
<h1 id="NFS的介绍及配置">NFS的介绍及配置</h1><h2 id="NFS介绍">NFS介绍</h2><p>NFS(Network File System)是FreeBSD支持的文件系统中的一种主要用于在Linux机器之间提供文件共享服务，其基本的原理类似与C/S模式，即服务器/客户端模式，一台提供共享文件夹的计算机充当服务器，其它若干台计算机作为客户机来访问这个共享文件夹。因此，在配置NFS的时候，思路的就很简单。首先，针对共享文件夹所在的机器，进行相关的NFS配置，以便将共享文件夹发布(export)给指定网络内的机器以及设定对应的权限控制，这样指定网络内的计算机就都能看到这个共享文件夹，然后将网络上的共享文件夹挂载(mount)到自己的文件系统下便可以进行访问了。通过这种export/mount模式，NFS便实现了文件共享机制。</p>
<p>事实上，在文件共享方面，还有一个更知名(或者说使用者更多)的服务，那便是Samba服务，而NFS则显得相对小众点(或者说使用者多为Linux管理员一类的)，之所以是这样，就是因为NFS只用于Linux与Linux系统之间的文件共享，而Samba则可用于Linux与Windows之间，Linux与Linux之间的文件共享。从Windows和Linux的用户基数的对比上就可以看出其中端倪。虽然Samba看起来比NFS功能强大，但是NFS也有自身优势，相比于Samba，NFS显得更加轻量级也更稳定点，当然，配置起来也更简单点。</p>
<h2 id="NFS配置">NFS配置</h2><h3 id="安装NFS">安装NFS</h3><p>首先，查看下机器中是否安装了NFS(一般的Linux发行版都是默认安装NFS的)。</p>
<p>ubuntu系统查看是否安装NFS：<code>$ dpkg -l | grep nfs</code></p>
<p>fedora/centos查看是否安装NFS：<code>$ rpm -qa | grep nfs</code></p>
<p>如果系统内没有NFS，那么便需要安装，</p>
<p>ubuntu系统安装NFS<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-<span class="built_in">get</span> install <span class="built_in">nfs</span>-kernel-server <span class="built_in">nfs</span>-common</span><br></pre></td></tr></table></figure></p>
<p>fedora/centos系统安装NFS<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># yum install nfs</span></span><br></pre></td></tr></table></figure></p>
<h3 id="配置文件">配置文件</h3><p>在安装完NFS后，在系统的 <code>/etc</code> 目录下会多一个 <code>exports</code> 文件，该文件用于指定要共享的目录以及相关的权限设置。</p>
<p>接下来我们来修改配置文件 <code>/etc/exports</code><br>对于之前没有配置过NFS的机器，<code>exports</code> 的文件的样子是这样的：<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># /etc/exports: the access control list for filesystems which may be exported</span></span><br><span class="line"><span class="preprocessor">#       to NFS clients.  See exports(5).</span></span><br><span class="line"><span class="preprocessor">#</span></span><br><span class="line"><span class="preprocessor"># Example for NFSv2 and NFSv3:</span></span><br><span class="line"><span class="preprocessor"># /srv/homes       hostname1(rw,sync,no_subtree_check) hostname2(ro,sync,no_subtree_check)</span></span><br><span class="line"><span class="preprocessor">#</span></span><br><span class="line"><span class="preprocessor"># Example for NFSv4:</span></span><br><span class="line"><span class="preprocessor"># /srv/nfs4        gss/krb5i(rw,sync,fsid=0,crossmnt,no_subtree_check)</span></span><br><span class="line"><span class="preprocessor"># /srv/nfs4/homes  gss/krb5i(rw,sync,no_subtree_check)</span></span><br></pre></td></tr></table></figure></p>
<p>NFS服务的配置基本上就只需要在exports文件中进行。注释中给出了配置文件信息的格式，我们根据注释添加相对应的行就行。</p>
<p>在exports文件的末尾添加一行： <code>/your_path/nfs_dir *(rw,sync,no_root_squash)</code> </p>
<p>其中 <strong><code>/your_path/nfs_dir</code></strong> 表示用户自定义的路径下的 <strong><code>nfs_dir</code></strong> 目录，用于与客户机共享；例如要想将 <code>/home/foo/share</code> 共享，那么可以在 exports文件中添加一行 <code>/home/foo/share *(rw,sync,no_root_squash)</code> 路径后面跟的是对该共享目录的权限控制信息。格式为 <code>network(permission parameters)</code>。</p>
<p>上面例子中<code>*</code>代表任意网段的计算机均可访问到共享文件夹。当然，你也可以根据需要来指定特定的网段，例如特定IP地址的主机 <code>192.168.1.36</code>，或者特定网段内的主机 <code>58.154.190.0/24(58.154.190.0/255.255.255.0)</code>，在或者指定域名的主机 <code>*.neu.edu.cn</code> (域名能在本地 <code>/etc/hosts</code> 文件中或通过DNS服务器找到)。如果你不明确访问共享文件夹的计算机网络的话，那还是用<code>*</code>吧。</p>
<p><strong><code>(rw,sync,root_squash)</code></strong>表示其它机器访问共享文件夹时的权限。</p>
<p>NFS常用的参数有：</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>ro</code></td>
<td style="text-align:left">只读访问</td>
</tr>
<tr>
<td style="text-align:left"><code>rw</code></td>
<td style="text-align:left">读写访问sync所有数据在请求时写入共享</td>
</tr>
<tr>
<td style="text-align:left"><code>async</code></td>
<td style="text-align:left">nfs在写入数据前可以响应请求</td>
</tr>
<tr>
<td style="text-align:left"><code>secure</code></td>
<td style="text-align:left">nfs通过1024以下的安全TCP/IP端口发送</td>
</tr>
<tr>
<td style="text-align:left"><code>insecure</code></td>
<td style="text-align:left">nfs通过1024以上的端口发送</td>
</tr>
<tr>
<td style="text-align:left"><code>wdelay</code></td>
<td style="text-align:left">如果多个用户要写入nfs目录，则归组写入（默认）</td>
</tr>
<tr>
<td style="text-align:left"><code>no_wdelay</code></td>
<td style="text-align:left">如果多个用户要写入nfs目录，则立即写入，当使用async时，无需此设置。</td>
</tr>
<tr>
<td style="text-align:left"><code>hide</code></td>
<td style="text-align:left">在nfs共享目录中不共享其子目录</td>
</tr>
<tr>
<td style="text-align:left"><code>no_hide</code></td>
<td style="text-align:left">共享nfs目录的子目录</td>
</tr>
<tr>
<td style="text-align:left"><code>subtree_check</code></td>
<td style="text-align:left">如果共享/usr/bin之类的子目录时，强制nfs检查父目录的权限（默认）</td>
</tr>
<tr>
<td style="text-align:left"><code>no_subtree_check</code></td>
<td style="text-align:left">和上面相对，不检查父目录权限</td>
</tr>
<tr>
<td style="text-align:left"><code>all_squash</code></td>
<td style="text-align:left">共享文件的UID和GID映射匿名用户anonymous，适合公用目录。</td>
</tr>
<tr>
<td style="text-align:left"><code>no_all_squash</code></td>
<td style="text-align:left">保留共享文件的UID和GID（默认）</td>
</tr>
<tr>
<td style="text-align:left"><code>root_squash</code></td>
<td style="text-align:left">root用户的所有请求映射成如anonymous用户一样的权限（默认）</td>
</tr>
<tr>
<td style="text-align:left"><code>no_root_squas</code></td>
<td style="text-align:left">root用户具有根目录的完全管理访问权限(不安全，不推荐)</td>
</tr>
<tr>
<td style="text-align:left"><code>anonuid=xxx</code></td>
<td style="text-align:left">指定nfs服务器/etc/passwd文件中匿名用户的UID</td>
</tr>
<tr>
<td style="text-align:left"><code>anongid=xxx</code></td>
<td style="text-align:left">指定nfs服务器/etc/passwd文件中匿名用户的GID</td>
</tr>
</tbody>
</table>
<p>修改完成之后输入：<code># exportfs –rv</code> 来使配置文件生效。</p>
<p>重启NFS服务<br><figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo /etc/init.d/nfs-<span class="built_in">kernel</span>-server <span class="literal">restart</span></span><br></pre></td></tr></table></figure></p>
<p>网上一些帖子里说由于NFS是一个RPC程序，使用它前，需要通过portmap映射好端口故需要重启portmap服务<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo /etc/init.d/portmap restart</span><br><span class="line"><span class="escape">``</span><span class="escape">` </span></span><br><span class="line">但是本人的Mint <span class="number">16</span>上并未发现有portmap服务，故忽略，最后也能成功执行NFS。</span><br><span class="line"></span><br><span class="line">最后，查看目录是否已经共享，</span><br></pre></td></tr></table></figure></p>
<p>$ showmount -e localhost  #查询本机nfs共享目录情况<br>$ showmount -a localhost  #查询本机共享目录连接情况<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">通过 <span class="escape">`$</span> showmount -e<span class="escape">` </span> 显示出共享出来的目录，如果结果中有你之前在exports文件中指定的目录，那么NFS服务器端的共享文件夹就成功发布了，即指定网段内的主机可以发现这个共享文件夹了。</span><br><span class="line"></span><br><span class="line">## NFS客户机挂载共享目录</span><br><span class="line"></span><br><span class="line">我们已经完成了NFS服务器端的共享目录配置，并确保了共享目录可以被特定网段的计算机发现了，那么接下来，我们就需要在其它机器上“接收”由NFS服务器那台机器“发布”出来的共享文件夹。</span><br><span class="line"></span><br><span class="line">这里需要将网络共享目录挂载(mount)到本地机器的文件系统中。</span><br></pre></td></tr></table></figure></p>
<p>$ mount -t nfs hostip:/host_shared_path/shared_dir /opt/shared_dir<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">例如，已知NFS服务器的IP为 <span class="escape">`1</span>92.<span class="number">168.1</span>.<span class="number">36</span><span class="escape">`，</span>并且其 <span class="escape">`/</span>home/foo/share<span class="escape">` </span>目录是共享的，要将其mount至本机的 <span class="escape">`/</span>home/zoo/nfs<span class="escape">` </span>目录下，那么便可执行：</span><br></pre></td></tr></table></figure></p>
<p>$ mount -t nfs 192.168.1.36:/home/foo/share /home/zoo/nfs<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这样就可以通过本机中的 <span class="escape">`/</span>home/zoo/nfs<span class="escape">` </span>目录操作共享文件了。</span><br><span class="line"></span><br><span class="line">如果你愿意的话，还可以启用开机自动挂载，将挂载信息写入 <span class="escape">`/</span>etc/fstab<span class="escape">` </span>文件，在末尾添加一行：</span><br></pre></td></tr></table></figure></p>
<p>host_ip:/host_share_path /local_mount_path nfs defaults<br><code>``
然后执行</code># mount -a` 即可。</p>
<p>至此，NFS的配置和使用过程讲解结束，目前未涉及到半点虚拟机的内容，接下来，我们来讲讲如何将NFS用与虚拟机中Host与Guest共享文件。</p>
<hr>
<h1 id="采用NFS实现Xen中Host与Guest的文件共享">采用NFS实现Xen中Host与Guest的文件共享</h1><p>Xen并未提供在宿主机Host与客户机Guest之间的文件共享方式。因此，我们不得不自己动手来完成这个事情。</p>
<p>如果说仅仅实现了Xen中的Host与Guest的文件共享，我想也未免太针对了，事实上，利用NFS我们可以完成任意台Linux主机之间的文件共享，哪怕这些Linux主机中包含有虚拟的计算机。不管是在Xen中，还是在VMware中又或者是在Virtual Box中，只要Host是Linux系统，Guest也是Linux系统，Host和Guest在网络上能互相查找到对方，那么便可利用NFS完成文件共享。那么，显然的，如果Host机或者Guest机中有Windows系统机器，NFS就不再适用了，这时候你就需要Samba。</p>
<p>我们注意到，利用NFS来进行文件共享，有2个主要的要求：</p>
<ol>
<li><p>参与共享的主机都必须是Linux系统</p>
</li>
<li><p>参与共享的主机必须能在网络上互相找到对方</p>
</li>
</ol>
<p>对于第1点，要不是显而易见的，要不是无能为力的(不过，如果非要在Linux和Windows之间利用NFS实现文件共享，也是可以的)。我们这里着重来说说第2点，在虚拟机的环境中，如何判断Host和Guest能互相在网络上找到对方。</p>
<p>说到这里，我们就不得不稍微讲一讲几种虚拟机常用的网络模型：Bridge，Host-Only，NAT。</p>
<blockquote>
<p>1.Bridged(桥接模式)</p>
<p>在Bridged模式下，虚拟出来的操作系统就像是局域网中的一台独立的主机，它可以访问网内任何一台机器。但是你需要手工为虚拟系统配置IP地址、子网掩码，而且还要和宿主机器处于同一网段，这样虚拟系统才能和宿主机器进行通信。同时，由于这个虚拟系统是局域网中的一个独立的主机系统，那么就可以手工配置它的TCP/IP配置信息，以实现通过局域网的网关或路由器访问互联网。 使用bridged模式的虚拟系统和宿主机器的关系，就像连接在同一个Hub上的两台电脑。</p>
<p>2.NAT(Network Address Translation, 网络地址转换模式)</p>
<p>使用NAT模式，就是让虚拟系统借助NAT(网络地址转换)功能，通过宿主机器所在的网络来访问公网。也就是说，使用NAT模式可以实现在虚拟系统里访问互联网。NAT模式下的虚拟系统的TCP/IP配置信息是由虚拟机提供的虚拟网络DHCP服务器提供的，无法进行手工修改，因此虚拟系统也就无法和本局域网中的其他真实主机进行通讯。采用NAT模式最大的优势是虚拟系统接入互联网非常简单，你不需要进行任何其他的配置，只需要宿主机器能访问互联网即可。 这种方式也可以实现Host OS与Guest OS的双向访问。但网络内其他机器不能访问Guest OS，Guest OS可通过Host OS用NAT协议访问网络内其他机器。NAT方式的IP地址配置方法是由虚拟DHCP服务器中分配一个IP ，在这个IP地址中已经设置好路由，就是指向192.168.138.1的。 如果你想利用虚拟机安装一个新的虚拟系统，在虚拟系统中不用进行任何手工配置就能直接访问互联网，建议你采用</p>
<p>NAT模式。</p>
<p>Host-Only(主机模式)</p>
<p>在某些特殊的网络调试环境中，要求将真实环境和虚拟环境隔离开，这时你就可采用Host-Only模式。在Host-Only模式中，所有的虚拟系统是可以相互通信的，但虚拟系统和真实的网络是被隔离开的。 提示:在Host-Only模式下，虚拟系统和宿主机器系统是可以相互通信的，相当于这两台机器通过双绞线互连。 在Host-Only模式下，虚拟系统的TCP/IP配置信息(如IP地址、网关地址、DNS服务器等)，都是由虚拟网络的DHCP服务器来动态分配的。 如果你想利用VMWare创建一个与网内其他机器相隔离的虚拟系统，进行某些特殊的网络调试工作，可以选择Host-Only模式。</p>
</blockquote>
<p>让我们以Xen为例介绍一下，本人在Xen中新建虚拟机时，网络连接模式采用的是 net bridge形式，在Host上，通过 <code>$ ifconfig</code> 命令，可以发现Host中eth0网卡的IP地址为 <code>58.154.190.×</code>，并且多了一块虚拟的 <code>virbr0</code> 网卡，其IP地址为 <code>192.168.122.1</code>。在Guest中，通过 <code>$ ifconfig</code> 命令，发现其IP地址为 <code>192.168.122.168</code>。</p>
<p>因此，Host采用virbr0的IP地址就能和Guest进行通信，在Host中采用 <code>$ ping 192.168.122.168</code> 查看是否能连接的上Guest，同样的，在Guest中采用 <code>$ ping 192.168.122.1</code> 查看是否能连接的上Host。如果二者能正常连接，那么，便可采用文章上半部分讲述的NFS方式来实现Host与Guest直接的文件共享了(只需要在宿主机配置好了NFS服务后，在客户机mount 共享文件夹时填入正确的宿主机的IP地址即可)。</p>
-->
            
            
                <h1 id="Background">Background</h1><p>趁着虚拟机在安装guest os的时候抽空写一篇小短文吧。这篇文章主要介绍利用NFS在Xen的host os和guest os中共享文件夹。众所周知的，VMware是很容易在宿主机(Host)的windows和客户机(Guest)中共享文件夹的，点几下按钮的事情。但是同样的事情到了Linux下的Xen上，就变得有点麻烦，因为Xen没有提供Host和Guest之间的共享手段，所以用户就需要利用其它方法来实现虚拟机和宿主机共享文件夹这事。</p>
                
                <p class="article-more-link">
                    <a href="/2014/06/16/nfs_xen/#more">Read More</a>
                </p>
                
            
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://fancyseeker.github.io/2014/06/16/nfs_xen/" data-id="ci8aw1o9b001akadyz9uta5us" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://fancyseeker.github.io/2014/06/16/nfs_xen/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NFS/">NFS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Virtualization/">Virtualization</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Xen/">Xen</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-vim2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
          <div class="article-meta">
            
            <a href="/2014/05/16/vim2/" class="article-date">
  <time datetime="2014-05-16T03:16:53.000Z" itemprop="datePublished">2014-05-16</time>
</a>
            <p class="article-author">fancyseeker</p>
          </div>
        
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/05/16/vim2/">Vim(2) -- Vim插件介绍及配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>单独的Vim本身在文本编辑方面已经足够强大，但是针对一些特殊的场合还有很多可以提高和改进的空间，这也是插件的意义所在。你用Vim写脚本吗？你用Vim写C/C++吗？你用Vim写HTML、CSS、javascript吗？你用Vim写Ruby吗？你用Vim看项目代码吗……那么各式各样的Vim插件总有一款或几款可以满足你的需求。
        
          <p class="article-more-link">
            <a href="/2014/05/16/vim2/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://fancyseeker.github.io/2014/05/16/vim2/" data-id="ci8aw1o8w0008kady0aolq9q5" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://fancyseeker.github.io/2014/05/16/vim2/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vim/">vim</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-vim1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
          <div class="article-meta">
            
            <a href="/2014/05/15/vim1/" class="article-date">
  <time datetime="2014-05-15T14:55:25.000Z" itemprop="datePublished">2014-05-15</time>
</a>
            <p class="article-author">fancyseeker</p>
          </div>
        
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/05/15/vim1/">Vim(1) -- 认识Vim</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我想对于每一个在Linux或Mac再或Windows工作下的同学，肯定都非常的熟悉，或者至少听说过Vim。Vim博大精深，非一文可蔽之，但是我希望可以以一个简单并广阔的视角来叙述Vim，从一个使用者的角度来从头到脚地讲述我为何选择Vim，如何使用Vim以及如何用好Vim的。以此来给各位同学提供一个完整的使用Vim的视角，同时能够依照本文的介绍，了解整个配置的过程进而能配置属于自己的Vim。
        
          <p class="article-more-link">
            <a href="/2014/05/15/vim1/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://fancyseeker.github.io/2014/05/15/vim1/" data-id="ci8aw1o8y000bkadyogsozdrx" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://fancyseeker.github.io/2014/05/15/vim1/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vim/">vim</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-ssh_connect" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
          <div class="article-meta">
            
            <a href="/2013/12/31/ssh_connect/" class="article-date">
  <time datetime="2013-12-31T09:24:47.000Z" itemprop="datePublished">2013-12-31</time>
</a>
            <p class="article-author">fancyseeker</p>
          </div>
        
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/12/31/ssh_connect/">SSH配置-在Windows下远程登陆Linux服务器Shell</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
       <!--<h1 id="Background">Background</h1><p>这几天需要在实验室空闲电脑上配置一个samba服务器用于共享文件, 而那台电脑所在座位上刚好来了一个人临时要在这边待几个星期, 因此无法直接在服务器前进行配置, 于是乎想到了利用SSH来远程登陆服务器进行操作. 其实说是远程, 也就隔了不到5米, 但是通过自己的电脑操控另一台电脑的感觉真的还是很美妙的. 想象一下此刻你正处于地球上不知道哪个地方, 然后通过庞大的互联网, 连接到了与你距离十万八千里的某台主机上进行操作, 想想还有点小激动呢.</p>
<hr>
<h1 id="系统环境">系统环境</h1><p>服务器: CentOS 6.4 x86_64    OpenSSH<br>SSH客户机: Windows 7 64bit    PuTTY</p>
<hr>
<h1 id="安装启动SSH服务">安装启动SSH服务</h1><p>在CentOS上查看是否安装了ssh相关的包.<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[fancyseeker<span class="variable">@localhost</span> ~]<span class="variable">$ </span>rpm -qa | grep ssh</span><br><span class="line">openssh-<span class="number">5.3</span>p1-<span class="number">94</span>.el6.x86_64</span><br><span class="line">openssh-askpass-<span class="number">5.3</span>p1-<span class="number">94</span>.el6.x86_64</span><br><span class="line">libssh2-<span class="number">1.4</span>.<span class="number">2</span>-<span class="number">1</span>.el6.x86_64</span><br><span class="line">openssh-server-<span class="number">5.3</span>p1-<span class="number">94</span>.el6.x86_64</span><br><span class="line">openssh-clients-<span class="number">5.3</span>p1-<span class="number">94</span>.el6.x86_64</span><br><span class="line">openssh-ldap-<span class="number">5.3</span>p1-<span class="number">94</span>.el6.x86_64</span><br></pre></td></tr></table></figure></p>
<p>如果没有安装, 那么需要手动安装下<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># yum install openssh*</span></span><br></pre></td></tr></table></figure></p>
<ol>
<li><p>设置开机启动SSH服务</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># chkconfig sshd on</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>开启SSH服务</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># /etc/init.d/sshd start</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>查看SSH服务运行状态</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># /etc/init.d/sshd status</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h1 id="配置SSH服务">配置SSH服务</h1><p>SSH服务配置 SSH服务的配置文件主要有2个, 分别为 <code>/etc/ssh/ssh_config</code> 以及 <code>/etc/ssh/sshd_config</code></p>
<h2 id="ssh_config配置文件">ssh_config配置文件</h2><p>这里我们先对<code>ssh_config</code>配置文件进行修改, 添加或修改如下几项<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用RSA算法进行安全验证</span></span><br><span class="line"><span class="title">RSAAuthentication</span> <span class="built_in">yes</span></span><br><span class="line"><span class="comment"># 关闭密码验证</span></span><br><span class="line">PasswordAuthentication <span class="built_in">no</span></span><br><span class="line"><span class="comment"># 强制使用的SSH2</span></span><br><span class="line">Protocol <span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>由于接下来我们会选用RSA算法来产生密钥对, 因此将<code>RSAAuthentication</code>设置成<code>yes</code>, <code>PasswordAuthentication</code>设置成<code>no</code>使得客户端无法通过不安全的账户密码方式登录, 增强安全性. <code>Protocol 2</code>设定强制使用SSH的第二版. 当然, 如果希望仅在某一个网段内进行SSH连接, 那么可以设置 <code>Host *</code>选项, 将<code>*</code>换成允许的网段, 例如<code>192.168.1.</code>代表IP地址为<code>192.168.1.x</code>的电脑可以进行SSH连接, 而其他IP地址的电脑则无法连接. 关于<code>ssh_config</code>文件的具体选项的解释如下所示<sup>[<a href="http://blog.lizhigang.net/archives/249" target="_blank" rel="external">1</a></sup><br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Host *</span><br><span class="line"><span class="preprocessor"># 选项“Host”只对能够匹配后面字串的计算机有效。“*”表示所有的计算机。</span></span><br><span class="line">ForwardAgent no</span><br><span class="line"><span class="preprocessor"># “ForwardAgent”设置连接是否经过验证代理（如果存在）转发给远程计算机。</span></span><br><span class="line">ForwardX11 no</span><br><span class="line"><span class="preprocessor"># “ForwardX11”设置X11连接是否被自动重定向到安全的通道和显示集（DISPLAY set）。</span></span><br><span class="line">RhostsAuthentication no</span><br><span class="line"><span class="preprocessor"># “RhostsAuthentication”设置是否使用基于rhosts的安全验证。</span></span><br><span class="line">RhostsRSAAuthentication no</span><br><span class="line"><span class="preprocessor"># “RhostsRSAAuthentication”设置是否使用用RSA算法的基于rhosts的安全验证。</span></span><br><span class="line">RSAAuthentication yes</span><br><span class="line"><span class="preprocessor"># “RSAAuthentication”设置是否使用RSA算法进行安全验证。</span></span><br><span class="line">PasswordAuthentication no</span><br><span class="line"><span class="preprocessor"># “PasswordAuthentication”设置是否使用口令验证。</span></span><br><span class="line">FallBackToRsh no</span><br><span class="line"><span class="preprocessor"># “FallBackToRsh”设置如果用ssh连接出现错误是否自动使用rsh。</span></span><br><span class="line">UseRsh no</span><br><span class="line"><span class="preprocessor"># “UseRsh”设置是否在这台计算机上使用“rlogin/rsh”。</span></span><br><span class="line">BatchMode no</span><br><span class="line"><span class="preprocessor"># “BatchMode”如果设为“yes”，passphrase/password（交互式输入口令）的提示将被禁止。当不能交互式输入口令的时候，这个选项对脚本文件和批处理任务十分有用。</span></span><br><span class="line">CheckHostIP yes</span><br><span class="line"><span class="preprocessor"># “CheckHostIP”设置ssh是否查看连接到服务器的主机的IP地址以防止DNS欺骗。建议设置为“yes”。</span></span><br><span class="line">StrictHostKeyChecking no</span><br><span class="line"><span class="preprocessor"># “StrictHostKeyChecking”如果设置成“yes”，ssh就不会自动把计算机的密匙加入“$HOME/.ssh/known_hosts”文件，并且一旦计算机的密匙发生了变化，就拒绝连接。</span></span><br><span class="line">IdentityFile ~/.ssh/identity</span><br><span class="line"><span class="preprocessor"># “IdentityFile”设置从哪个文件读取用户的RSA安全验证标识。</span></span><br><span class="line">Port <span class="number">22</span></span><br><span class="line"><span class="preprocessor"># “Port”设置连接到远程主机的端口。</span></span><br><span class="line">Cipher blowfish</span><br><span class="line"><span class="preprocessor"># “Cipher”设置加密用的密码。</span></span><br><span class="line">EscapeChar ~</span><br><span class="line"><span class="preprocessor"># “EscapeChar”设置escape字符。</span></span><br></pre></td></tr></table></figure></p>
<h2 id="sshd_config配置文件">sshd_config配置文件</h2><p>在sshd_config文件中添加或修改如下选项<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">PermitRootLogin</span> <span class="built_in">no</span></span><br><span class="line">PermitEmptyPasswords <span class="built_in">no</span></span><br></pre></td></tr></table></figure></p>
<p>出于安全性的考虑, 我们不允许客户端直接用root账户进行登录, 故将<code>PermitRootLogin</code>设置成<code>no</code>(当然, 可以在登陆了其他用户后切换至root用户), 同时不允许空密码. <code>sshd_config</code>文件的其它具体选项的解释如下所示<sup>[<a href="http://blog.lizhigang.net/archives/249" target="_blank" rel="external">1</a></sup><br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">Port <span class="number">22</span></span><br><span class="line"><span class="preprocessor"># “Port”设置sshd监听的端口号。</span></span><br><span class="line">ListenAddress <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span></span><br><span class="line"><span class="preprocessor"># “ListenAddress”设置sshd服务器绑定的IP地址。</span></span><br><span class="line">HostKey /etc/ssh/ssh_host_key</span><br><span class="line"><span class="preprocessor"># “HostKey”设置包含计算机私人密匙的文件。</span></span><br><span class="line">ServerKeyBits <span class="number">1024</span></span><br><span class="line"><span class="preprocessor"># “ServerKeyBits”定义服务器密匙的位数。</span></span><br><span class="line">LoginGraceTime <span class="number">600</span></span><br><span class="line"><span class="preprocessor"># “LoginGraceTime”设置如果用户不能成功登录，在切断连接之前服务器需要等待的时间（以秒为单位）。</span></span><br><span class="line">KeyRegenerationInterval <span class="number">3600</span></span><br><span class="line"><span class="preprocessor"># “KeyRegenerationInterval”设置在多少秒之后自动重新生成服务器的密匙（如果使用密匙）。重新生成密匙是为了防止用盗用的密匙解密被截获的信息。</span></span><br><span class="line">PermitRootLogin no</span><br><span class="line"><span class="preprocessor"># “PermitRootLogin”设置root能不能用ssh登录。这个选项一定不要设成“yes”。</span></span><br><span class="line">IgnoreRhosts yes</span><br><span class="line"><span class="preprocessor"># “IgnoreRhosts”设置验证的时候是否使用“rhosts”和“shosts”文件。</span></span><br><span class="line">IgnoreUserKnownHosts yes</span><br><span class="line"><span class="preprocessor"># “IgnoreUserKnownHosts”设置ssh daemon是否在进行RhostsRSAAuthentication安全验证的时候忽略用户的“$HOME/.ssh/known_hosts”</span></span><br><span class="line">StrictModes yes</span><br><span class="line"><span class="preprocessor"># “StrictModes”设置ssh在接收登录请求之前是否检查用户家目录和rhosts文件的权限和所有权。这通常是必要的，因为新手经常会把自己的目录和文件设成任何人都有写权限。</span></span><br><span class="line">X11Forwarding no</span><br><span class="line"><span class="preprocessor"># “X11Forwarding”设置是否允许X11转发。</span></span><br><span class="line">PrintMotd yes</span><br><span class="line"><span class="preprocessor"># “PrintMotd”设置sshd是否在用户登录的时候显示“/etc/motd”中的信息。</span></span><br><span class="line">SyslogFacility AUTH</span><br><span class="line"><span class="preprocessor"># “SyslogFacility”设置在记录来自sshd的消息的时候，是否给出“facility code”。</span></span><br><span class="line">LogLevel INFO</span><br><span class="line"><span class="preprocessor"># “LogLevel”设置记录sshd日志消息的层次。INFO是一个好的选择。查看sshd的man帮助页，已获取更多的信息。</span></span><br><span class="line">RhostsAuthentication no</span><br><span class="line"><span class="preprocessor"># “RhostsAuthentication”设置只用rhosts或“/etc/hosts.equiv”进行安全验证是否已经足够了。</span></span><br><span class="line">RhostsRSAAuthentication no</span><br><span class="line"><span class="preprocessor"># “RhostsRSA”设置是否允许用rhosts或“/etc/hosts.equiv”加上RSA进行安全验证。</span></span><br><span class="line">RSAAuthentication yes</span><br><span class="line"><span class="preprocessor"># “RSAAuthentication”设置是否允许只有RSA安全验证。</span></span><br><span class="line">PasswordAuthentication no</span><br><span class="line"><span class="preprocessor"># “PasswordAuthentication”设置是否允许口令验证。</span></span><br><span class="line">PermitEmptyPasswords no</span><br><span class="line"><span class="preprocessor"># “PermitEmptyPasswords”设置是否允许用口令为空的帐号登录。</span></span><br><span class="line">AllowUsers admin</span><br><span class="line"><span class="preprocessor"># “AllowUsers”的后面可以跟着任意的数量的用户名的匹配串（patterns）或user@host这样的匹配串，这些字符串用空格隔开。主机名可以是DNS名或IP地址。</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="密钥对配置">密钥对配置</h1><p>在上面的设置中, 我们已经禁止了用户通过提供账号密码这种不太安全的方式进行登录, 因此, 用户只能通过公钥认证这种方式登录. 公钥认证登录方式相对而言安全, 而且方便, 不要输入密码. 关于公钥认证的原理请看上一篇文章<a href=""><ssh连接认证原理概述></ssh连接认证原理概述></a>. 接下来, 需要生成密钥对, 即一组配对的公钥<code>Public Key</code>和私钥<code>Private Key</code>. 登录一个普通用户, 利用<code>$ ssh-keygen -t rsa</code>命令为其生成密钥对, <code>-t rsa</code>开关代表利用RSA算法产生密钥对.<br><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[fancyseeker@localhost ~]$ who </span><br><span class="line">fancyseeker pts/<span class="number">0</span> <span class="number">2013</span>-<span class="number">12</span>-<span class="number">30</span> <span class="number">17</span>:<span class="number">49</span> (<span class="number">192.168</span>.<span class="number">1.9</span>)</span><br><span class="line">[fancyseeker@localhost ~]$ ssh-keygen -t rsa</span><br><span class="line">Generating <span class="keyword">public</span>/<span class="keyword">private</span> rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> which <span class="keyword">to</span> save the key (/home/fancyseeker/.ssh/id_rsa): <span class="comment">//此处设置私钥存放目录,直接回车即可,将私钥保存在~/.ssh/id_rsa</span></span><br><span class="line">Enter passphrase (<span class="keyword">empty</span> <span class="keyword">for</span> no passphrase): <span class="comment">//此处设置公钥认证密码,直接回车表示不设置</span></span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification <span class="keyword">has</span> been saved <span class="keyword">in</span> /home/fancyseeker/.ssh/id_rsa. <span class="comment">//私钥</span></span><br><span class="line">Your <span class="keyword">public</span> key <span class="keyword">has</span> been saved <span class="keyword">in</span> /home/fancyseeker/.ssh/id_rsa.pub. <span class="comment">//公钥</span></span><br><span class="line">The key fingerprint <span class="keyword">is</span>:</span><br><span class="line"><span class="number">9</span>b:f3:bf:f6:<span class="number">39</span>:<span class="number">70</span>:c9:<span class="number">66</span>:d2:<span class="number">1</span>c:<span class="number">99</span>:c6:<span class="number">71</span>:<span class="number">6</span>a:b8:a9 fancyseeker@localhost.localdomain</span><br><span class="line">The key<span class="string">'s randomart image is:</span><br><span class="line">+--[ RSA 2048]----+</span><br><span class="line">|                 |</span><br><span class="line">|              . .|</span><br><span class="line">|             o * |</span><br><span class="line">|            . O  |</span><br><span class="line">|        S    O o |</span><br><span class="line">|         o  = O  |</span><br><span class="line">|        +  . *   |</span><br><span class="line">|         oE . .. |</span><br><span class="line">|          .oooo. |</span><br><span class="line">+-----------------+</span></span><br></pre></td></tr></table></figure></p>
<p>注: 运行<code>ssh-keygen</code>命令并不需要切换至特定的用户 (比如你想要通过sample_user这个用户来进行ssh登陆, 但是并不一定要求说需要切换至sample_user来执行<code>ssh-keygen</code>这个命令), 同样的也不需要指定在服务器还是客户端执行, 执行<code>ssh-keygen</code>的目的仅仅是为了得到一个密钥对, 与谁来执行, 在哪执行没有特别的关系. 当然, 生成的密钥对会默认存放在当前用户的<code>~/.ssh</code>文件夹下, 因此如果用特定用户来执行<code>ssh-keygen</code>会省事很多. 在得到密钥对之后, 将公钥和私钥设置好权限之后放置在合适的目录下即可. 具体的权限和位置请看接下来的部分.</p>
<p>这时候, 可以查看下<code>~/.ssh</code>目录下生成的公钥和私钥文件.<br><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">[</span><span class="comment">fancyseeker@localhost</span> <span class="string">.</span><span class="comment">ssh</span><span class="title">]</span><span class="comment">$</span> <span class="comment">ll</span> <span class="comment">~/</span><span class="string">.</span><span class="comment">ssh</span></span><br><span class="line"><span class="literal">-</span><span class="comment">rw</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span> <span class="comment">1</span> <span class="comment">fancyseeker</span> <span class="comment">fancyseeker</span> <span class="comment">1679</span> <span class="comment">Dec</span> <span class="comment">31</span> <span class="comment">14:12</span> <span class="comment">id_rsa</span></span><br><span class="line"><span class="literal">-</span><span class="comment">rw</span><span class="literal">-</span><span class="comment">r</span><span class="literal">-</span><span class="literal">-</span><span class="comment">r</span><span class="literal">-</span><span class="literal">-</span> <span class="comment">1</span> <span class="comment">fancyseeker</span> <span class="comment">fancyseeker</span>  <span class="comment">410</span> <span class="comment">Dec</span> <span class="comment">31</span> <span class="comment">14:12</span> <span class="comment">id_rsa</span><span class="string">.</span><span class="comment">pub</span></span><br></pre></td></tr></table></figure></p>
<p>这里可以看到<code>ssh-keygen</code>命令生成了公钥 <strong><code>id_rsa.pub</code></strong> 和私钥 <strong><code>id_rsa</code></strong>文件.</p>
<p>接下来, 需要做的就是把公钥文件留在服务器特定用户的 <code>~/.ssh</code> 文件夹下, 而将私钥文件放置于客户端.</p>
<h2 id="公钥处理">公钥处理</h2><p>首先, 将公钥 <code>id_rsa.pub</code> 文件重命名为 <strong><code>authorized_keys</code></strong>放置于服务器端指定登陆用户的 <code>~/.ssh</code> 文件夹下.<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[fancyseeker<span class="variable">@localhost</span> .ssh]<span class="variable">$ </span>cat ~<span class="regexp">/.ssh/id</span>_rsa.pub <span class="prompt">&gt;&gt; </span>~<span class="regexp">/.ssh/authorized</span>_keys</span><br></pre></td></tr></table></figure></p>
<p>这里有几点要说明下, 关于为什么要将公钥名称更改为<code>authorized_keys</code>, 这是因为ssh服务会在客户端发起连接请求的时候在对应用户家目录的<code>.ssh</code>文件夹下寻找 <code>authorized_keys</code> 文件, 并打开访问文件中包含的公钥. 除此之外, <code>authorized_keys</code> 文件中可以包含多个公钥, 因此上述的命令中用了<code>&gt;&gt;</code>指令将之前生成的公钥追加至<code>authorized_keys</code>文件的尾部.</p>
<p>为了使登陆更加安全, 我们需要将公钥的权限设置为只有所有者可读, 同时删除之前的 <code>id_rsa.pub</code> 文件, 即<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[fancyseeker<span class="variable">@localhost</span> .ssh]<span class="variable">$ </span>chmod <span class="number">400</span> ~<span class="regexp">/.ssh/authorized</span>_keys</span><br><span class="line">[fancyseeker<span class="variable">@localhost</span> .ssh]<span class="variable">$ </span>rm -f id_rsa.pub</span><br><span class="line">[fancyseeker<span class="variable">@localhost</span> .ssh]<span class="variable">$ </span>ll</span><br><span class="line">-r-------- <span class="number">1</span> fancyseeker fancyseeker  <span class="number">410</span> <span class="constant">Dec </span><span class="number">29</span> <span class="number">20</span><span class="symbol">:</span><span class="number">51</span> authorized_keys</span><br><span class="line">-rw------- <span class="number">1</span> fancyseeker fancyseeker <span class="number">1679</span> <span class="constant">Dec </span><span class="number">31</span> <span class="number">14</span><span class="symbol">:</span><span class="number">12</span> id_rsa</span><br></pre></td></tr></table></figure></p>
<p>至此, 服务器端的配置结束. 接下来介绍Windows客户端PuTTY的配置和使用.</p>
<hr>
<h1 id="Windows下使用PuTTY登陆">Windows下使用PuTTY登陆</h1><p><a href="http://www.putty.org/" target="_blank" rel="external">PuTTY</a>是Windows环境下一个简单易用的SSH客户端软件.</p>
<p>首先, 我们需要利用一种安全的方式(可以用U盘, 移动硬盘之类的存储介质, 也可以使用scp(secure copy)协议进行安全传输), 将服务器端产生的私钥文件 <code>id_rsa</code> 移动到客户端上来.</p>
<h2 id="转换私钥格式">转换私钥格式</h2><p>由于服务器端产生的私钥文件<code>id_rsa</code>的格式PuTTY无法识别, 因此需要先利用<code>PuTTYgen</code>工具转换成PuTTY识别的格式.(PuTTYgen工具需要<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" target="_blank" rel="external">此处</a>下载)</p>
<p>运行PuTTYgen工具, 点击 Load, 选择要转换的私钥文件.</p>
<p><img src="/img/ssh_connect/puttygen.jpg" alt="PuTTYgen"></p>
<p>找到之前存放私钥文件的地方.</p>
<p><img src="/img/ssh_connect/PuTTYgen_all.jpg" alt=""></p>
<p>这里需要将文件名后面的文件类型更改为All File(<em>.</em>)才能看到服务器端产生的私钥文件.</p>
<p><img src="/img/ssh_connect/PuTTYgen_pk.jpg" alt=""></p>
<p>此时, PuTTYgen会要求你输入passphrase口令, 该口令是之前在服务器端利用<code>ssh-keygen</code>生成密钥对时,由用户输入的一个口令, 如果为空, 直接回车即可.</p>
<p><img src="/img/ssh_connect/passphrase.jpg" alt=""></p>
<p>输入口令, 点击ok, PuTTYgen会提示私钥格式转换成功</p>
<p><img src="/img/ssh_connect/pksucc.jpg" alt=""></p>
<p>点击 Save private key 将转换成功后的 ppk 文件保存至自己想要的指定位置. 此时, 私钥的转换工作结束, 接下来配置PuTTY.</p>
<h2 id="导入私钥">导入私钥</h2><p>双击打开PuTTY, 在左侧的列表中找到<code>Connection-SSH-Auth</code>, 在右边的窗口中, 选择需要导入的私钥.</p>
<p><img src="/img/ssh_connect/PuTTYconfig.jpg" alt=""></p>
<p>然后找到刚才利用PuTTYgen转换得到的ppk私钥文件</p>
<p><img src="/img/ssh_connect/pkpos.jpg" alt=""></p>
<h2 id="配置会话Session">配置会话Session</h2><p>之后点击左侧列表中的Session, 来配置SSH会话, 即连接的具体参数</p>
<p><img src="/img/ssh_connect/session.jpg" alt=""></p>
<p>此处需要配置服务器的IP地址, 以及要保存的连接名称(任意取), 设定完后点击右侧的 <code>Save</code> 按钮将连接保存, 这样下次就不需要设置而能快速访问了.</p>
<p>至此, SSH的服务器端和客户端的配置全部结束, 接下来是测试过程.</p>
<h2 id="测试登录">测试登录</h2><p>双击打开PuTTY, 选中之前我们保存的名为 Whatever you like 的连接, 点击<code>Open</code>, 发起SSH连接<br><img src="/img/ssh_connect/testPuTTY.jpg" alt=""><br>我们会看到一个黑色的连接对话框, 在输入要登陆的用户名以及在生成密钥对时要求的passphrase后, 成功地登陆了远程服务器.</p>
<p><img src="/img/ssh_connect/sshlogin.jpg" alt=""></p>
<p>有几点需要在本文的最后稍微做下说明.</p>
<ol>
<li>SSH配置的关键在于首先需要先生成一个密钥对, 该密钥对是由哪个用户生成以及是在服务器端生成还是在客户端生成的都不重要, 重要的是最后这个密钥对中的公钥必须要在服务器端的特定用户家目录下的.ssh文件夹中,并命名为authorized_keys,而私钥则必须经由客户端转换后导入客户端软件,这样才能满足SSH连接的需求.</li>
<li>服务器端的公钥权限不对,无法被读取有可能导致在进行SSH登陆的时候被服务器端拒绝.</li>
<li>一个萝卜一个坑, 不同用户不可共同使用同一组密钥对, 否则可能导致登陆失败.</li>
<li>服务器之所以接受该用户利用SSH登陆是因为在服务器端的改用户家目录的.ssh文件夹下有公钥文件, 并且和发起请求客户端的私钥文件是配对的. 显然的, 如果发起请求的用户在服务器端的家目录.ssh文件夹下没有公钥文件, 那么便无法成功登陆.</li>
</ol>
<p>至此, 本文结束.</p>
-->
            
            
                <h1 id="Background">Background</h1><p>这几天需要在实验室空闲电脑上配置一个samba服务器用于共享文件, 而那台电脑所在座位上刚好来了一个人临时要在这边待几个星期, 因此无法直接在服务器前进行配置, 于是乎想到了利用SSH来远程登陆服务器进行操作. 其实说是远程, 也就隔了不到5米, 但是通过自己的电脑操控另一台电脑的感觉真的还是很美妙的. 想象一下此刻你正处于地球上不知道哪个地方, 然后通过庞大的互联网, 连接到了与你距离十万八千里的某台主机上进行操作, 想想还有点小激动呢.</p>
                
                <p class="article-more-link">
                    <a href="/2013/12/31/ssh_connect/#more">Read More</a>
                </p>
                
            
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://fancyseeker.github.io/2013/12/31/ssh_connect/" data-id="ci8aw1o96000vkadyn96pw4nf" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://fancyseeker.github.io/2013/12/31/ssh_connect/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PuTTY/">PuTTY</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shell/">shell</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh/">ssh</a></li></ul>

    </footer>
  </div>
  
</article>



  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</section>
      
      <aside id="sidebar">
    
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/04/08/wordpress2hexo/">正式完成从Wordpress迁移至Hexo</a>
          </li>
        
          <li>
            <a href="/2014/06/16/nfs_xen/">利用NFS在Xen中设立共享文件夹</a>
          </li>
        
          <li>
            <a href="/2014/05/16/vim2/">Vim(2) -- Vim插件介绍及配置</a>
          </li>
        
          <li>
            <a href="/2014/05/15/vim1/">Vim(1) -- 认识Vim</a>
          </li>
        
          <li>
            <a href="/2013/12/31/ssh_connect/">SSH配置-在Windows下远程登陆Linux服务器Shell</a>
          </li>
        
      </ul>
    </div>
  </div>

    
    
    
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASUS/">ASUS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS/">CentOS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fedora/">Fedora</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/N61ja/">N61ja</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NFS/">NFS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PuTTY/">PuTTY</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SVN/">SVN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Virtualization/">Virtualization</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Xen/">Xen</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache/">apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/big-data/">big data</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud-computing/">cloud computing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/conference/">conference</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gnome/">gnome</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google/">google</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/laptop-cleaning/">laptop cleaning</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maintenance/">maintenance</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/">mobile</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/repo/">repo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/search-engine/">search engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/server/">server</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/">ssh</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thought/">thought</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/trick/">trick</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yum/">yum</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

    
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/ASUS/" style="font-size: 10px;">ASUS</a><a href="/tags/CentOS/" style="font-size: 15px;">CentOS</a><a href="/tags/Fedora/" style="font-size: 20px;">Fedora</a><a href="/tags/Linux/" style="font-size: 20px;">Linux</a><a href="/tags/N61ja/" style="font-size: 10px;">N61ja</a><a href="/tags/NFS/" style="font-size: 10px;">NFS</a><a href="/tags/PuTTY/" style="font-size: 10px;">PuTTY</a><a href="/tags/SVN/" style="font-size: 10px;">SVN</a><a href="/tags/Virtualization/" style="font-size: 10px;">Virtualization</a><a href="/tags/Xen/" style="font-size: 10px;">Xen</a><a href="/tags/apache/" style="font-size: 10px;">apache</a><a href="/tags/big-data/" style="font-size: 10px;">big data</a><a href="/tags/blog/" style="font-size: 15px;">blog</a><a href="/tags/cloud-computing/" style="font-size: 10px;">cloud computing</a><a href="/tags/conference/" style="font-size: 10px;">conference</a><a href="/tags/gnome/" style="font-size: 10px;">gnome</a><a href="/tags/google/" style="font-size: 10px;">google</a><a href="/tags/laptop-cleaning/" style="font-size: 10px;">laptop cleaning</a><a href="/tags/life/" style="font-size: 10px;">life</a><a href="/tags/maintenance/" style="font-size: 20px;">maintenance</a><a href="/tags/mobile/" style="font-size: 10px;">mobile</a><a href="/tags/repo/" style="font-size: 10px;">repo</a><a href="/tags/search-engine/" style="font-size: 10px;">search engine</a><a href="/tags/server/" style="font-size: 10px;">server</a><a href="/tags/shell/" style="font-size: 10px;">shell</a><a href="/tags/ssh/" style="font-size: 15px;">ssh</a><a href="/tags/thought/" style="font-size: 15px;">thought</a><a href="/tags/trick/" style="font-size: 10px;">trick</a><a href="/tags/vim/" style="font-size: 15px;">vim</a><a href="/tags/web/" style="font-size: 10px;">web</a><a href="/tags/yum/" style="font-size: 10px;">yum</a>
    </div>
  </div>

    
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">五月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">二月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">十月 2012</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

    
</aside>

      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 fancyseeker<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Based on <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>

  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"fancyseeker"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"/css/bdshare.css"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js" type="text/javascript"></script>

</div>
</body>
</html>

